---
layout: post
title: "jQuery 二、常用API"
author: "Kai"
header-style: text
tags:
  - jQuery
  - Javascript
---

转自：https://juejin.cn/post/7215528103467401276

# 1. jQuery 选择器
## 1.1 jQuery基础选择器
- 原生 JS 获取元素方式很多，很杂，而且兼容性情况不一致，因此 jQuery 给我们做了封装，使获取元素统一标准。
    ```javascript
    $("选择器") // 里面选择器直接写 CSS 选择器即可，但是要加引号
    ```
    ![20241018162318](https://raw.githubusercontent.com/fannkaii/MyPicBed/master/images/20241018162318.png)

## 1.2 jQuery层级选择器
![20241018162337](https://raw.githubusercontent.com/fannkaii/MyPicBed/master/images/20241018162337.png)

**案例如下：**
```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>jQuery基本和层级选择器</title>
    <script src="jquery.min.js"></script>
</head>

<body>
    <div>我是div</div>
    <div class="nav">我是nav div</div>
    <p>我是p</p>
    <ol>
        <li>我是ol 的</li>
        <li>我是ol 的</li>
        <li>我是ol 的</li>
        <li>我是ol 的</li>
    </ol>
    <ul>
        <li>我是ul 的</li>
        <li>我是ul 的</li>
        <li>我是ul 的</li>
        <li>我是ul 的</li>
    </ul>
    <script>
        $(function() {
            console.log($(".nav"));
            console.log($("ul li"));
        })
    </script>
</body>

</html>
```

## 1.3 隐式迭代（重要）
- 遍历内部 DOM 元素（伪数组形式存储）的过程就叫做 **隐式迭代**
- 简单理解：给匹配到的所有元素进行循环遍历，执行相应的方法，而不用我们再进行循环，简化我们的操作，方便我们调用。
- **案例如下：**
    ```html
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>jQuery隐式迭代</title>
        <script src="jquery.min.js"></script>
    </head>

    <body>
        <div>惊喜不，意外不</div>
        <div>惊喜不，意外不</div>
        <div>惊喜不，意外不</div>
        <div>惊喜不，意外不</div>
        <ul>
            <li>相同的操作</li>
            <li>相同的操作</li>
            <li>相同的操作</li>
        </ul>
        <script>
            // 1. 获取四个div元素 
            console.log($("div"));
            // 2. 给四个div设置背景颜色为粉色 jquery对象不能使用style
            $("div").css("background", "pink");
            // 3. 隐式迭代就是把匹配的所有元素内部进行遍历循环，给每一个元素添加css这个方法
            $("ul li").css("color", "red");
        </script>
    </body>

    </html>
    ```

## 1.4 jQuery筛选选择器
![20241018162500](https://raw.githubusercontent.com/fannkaii/MyPicBed/master/images/20241018162500.png)

**案例如下：**
```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>jQuery筛选选择器</title>
    <script src="jquery.min.js"></script>
</head>

<body>
    <ul>
        <li>多个里面筛选几个</li>
        <li>多个里面筛选几个</li>
        <li>多个里面筛选几个</li>
        <li>多个里面筛选几个</li>
        <li>多个里面筛选几个</li>
        <li>多个里面筛选几个</li>
    </ul>
    <ol>
        <li>多个里面筛选几个</li>
        <li>多个里面筛选几个</li>
        <li>多个里面筛选几个</li>
        <li>多个里面筛选几个</li>
        <li>多个里面筛选几个</li>
        <li>多个里面筛选几个</li>
    </ol>
    <script>
        $(function() {
            $("ul li:first").css("color", "red");
            $("ul li:eq(2)").css("color", "blue");
            $("ol li:odd").css("color", "skyblue");
            $("ol li:even").css("color", "pink");
        })
    </script>
</body>

</html>
```

## 1.5 jQuery筛选方法（重点）
- 重点记住：`parent()`、`children()`、`find()`、`siblings()`、`eq()`
    ![20241018162611](https://raw.githubusercontent.com/fannkaii/MyPicBed/master/images/20241018162611.png)
- **案例如下：**
    ```html
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>jQuery筛选方法（上）</title>
        <script src="jquery.min.js"></script>
    </head>

    <body>
        <div class="yeye">
            <div class="father">
                <div class="son">儿子</div>
            </div>
        </div>

        <div class="nav">
            <p>我是屁</p>
            <div>
                <p>我是p</p>
            </div>
        </div>
        <script>
            // 注意一下都是方法 带括号
            $(function() {
                // 1. 父  parent()  返回的是 最近一级的父级元素 亲爸爸
                console.log($(".son").parent());
                // 2. 子
                // (1) 亲儿子 children()  类似子代选择器  ul>li
                // $(".nav").children("p").css("color", "red");
                // (2) 可以选里面所有的孩子 包括儿子和孙子  find() 类似于后代选择器
                $(".nav").find("p").css("color", "red");
                // 3. 兄
            });
        </script>
    </body>

    </html>
    ```

- **案例如下：**
    ```html
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>jQuery筛选方法（下）</title>
        <script src="jquery.min.js"></script>
    </head>

    <body>
        <ol>
            <li>我是ol 的li</li>
            <li>我是ol 的li</li>
            <li class="item">我是ol 的li</li>
            <li>我是ol 的li</li>
            <li>我是ol 的li</li>
            <li>我是ol 的li</li>
        </ol>
        <ul>
            <li>我是ol 的li</li>
            <li>我是ol 的li</li>
            <li>我是ol 的li</li>
            <li>我是ol 的li</li>
            <li>我是ol 的li</li>
            <li>我是ol 的li</li>
        </ul>
        <div class="current">俺有current</div>
        <div>俺木有current</div>
        <script>
            // 注意一下都是方法 带括号
            $(function() {
                // 1. 兄弟元素siblings 除了自身元素之外的所有亲兄弟
                $("ol .item").siblings("li").css("color", "red");
                // 2. 第n个元素
                var index = 2;
                // (1) 我们可以利用选择器的方式选择
                // $("ul li:eq(2)").css("color", "blue");
                // $("ul li:eq("+index+")").css("color", "blue");
                // (2) 我们可以利用选择方法的方式选择 更推荐这种写法
                // $("ul li").eq(2).css("color", "blue");
                // $("ul li").eq(index).css("color", "blue");
                // 3. 判断是否有某个类名
                console.log($("div:first").hasClass("current"));
                console.log($("div:last").hasClass("current"));
            });
        </script>
    </body>

    </html>
    ```

- **新浪下拉菜单：**
    ```html
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>新浪下拉菜单</title>
        <style>
            * {
                margin: 0;
                padding: 0;
            }
            
            li {
                list-style-type: none;
            }
            
            a {
                text-decoration: none;
                font-size: 14px;
            }
            
            .nav {
                margin: 100px;
            }
            
            .nav>li {
                position: relative;
                float: left;
                width: 80px;
                height: 41px;
                text-align: center;
            }
            
            .nav li a {
                display: block;
                width: 100%;
                height: 100%;
                line-height: 41px;
                color: #333;
            }
            
            .nav>li>a:hover {
                background-color: #eee;
            }
            
            .nav ul {
                display: none;
                position: absolute;
                top: 41px;
                left: 0;
                width: 100%;
                border-left: 1px solid #FECC5B;
                border-right: 1px solid #FECC5B;
            }
            
            .nav ul li {
                border-bottom: 1px solid #FECC5B;
            }
            
            .nav ul li a:hover {
                background-color: #FFF5DA;
            }
        </style>
        <script src="jquery.min.js"></script>
    </head>

    <body>
        <ul class="nav">
            <li>
                <a href="#">微博</a>
                <ul>
                    <li>
                        <a href="">私信</a>
                    </li>
                    <li>
                        <a href="">评论</a>
                    </li>
                    <li>
                        <a href="">@我</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="#">微博</a>
                <ul>
                    <li>
                        <a href="">私信</a>
                    </li>
                    <li>
                        <a href="">评论</a>
                    </li>
                    <li>
                        <a href="">@我</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="#">微博</a>
                <ul>
                    <li>
                        <a href="">私信</a>
                    </li>
                    <li>
                        <a href="">评论</a>
                    </li>
                    <li>
                        <a href="">@我</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="#">微博</a>
                <ul>
                    <li>
                        <a href="">私信</a>
                    </li>
                    <li>
                        <a href="">评论</a>
                    </li>
                    <li>
                        <a href="">@我</a>
                    </li>
                </ul>
            </li>
        </ul>
        <script>
            $(function() {
                // 鼠标经过
                $(".nav>li").mouseover(function() {
                    // $(this) jQuery 当前元素  this不要加引号
                    // show() 显示元素  hide() 隐藏元素
                    $(this).children("ul").show();
                });
                // 鼠标离开
                $(".nav>li").mouseout(function() {
                    $(this).children("ul").hide();
                })
            })
        </script>
    </body>

    </html>
    ```

## 1.6 jQuery里面的排他思想
- 想要多选一的效果，排他思想：当前元素设置样式，其余的兄弟元素清除样式。
    ```javascript
    $(this).css("color", "red");
    $(this).siblings().css("color", "");
    ```
- **案例如下：**
    ```html
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>jQuery排他思想</title>
        <script src="jquery.min.js"></script>
    </head>

    <body>
        <button>快速</button>
        <button>快速</button>
        <button>快速</button>
        <button>快速</button>
        <button>快速</button>
        <button>快速</button>
        <button>快速</button>
        <script>
            $(function() {
                // 1. 隐式迭代 给所有的按钮都绑定了点击事件
                $("button").click(function() {
                    // 2. 当前的元素变化背景颜色
                    $(this).css("background", "pink");
                    // 3. 其余的兄弟去掉背景颜色 隐式迭代
                    $(this).siblings("button").css("background", "");
                });
            })
        </script>
    </body>

    </html>
    ```

## 1.7 链式编程
- 链式编程是为了节省代码量，看起来更优雅。
    ```javascript
    $(this).css('color', 'red').sibling().css('color', '');
    ```

- **案例如下：**
    ```html
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>链式编程</title>
        <script src="jquery.min.js"></script>
    </head>

    <body>
        <button>快速</button>
        <button>快速</button>
        <button>快速</button>
        <button>快速</button>
        <button>快速</button>
        <button>快速</button>
        <button>快速</button>
        <script>
            $(function() {
                // 1. 隐式迭代 给所有的按钮都绑定了点击事件
                $("button").click(function() {
                    // 2. 让当前元素颜色变为红色
                    // $(this).css("color", "red");
                    // 3. 让其余的姐妹元素不变色 
                    // $(this).siblings().css("color", "");
                    // 链式编程
                    $(this).css("color", "red").siblings().css("color", "");
                });
            })
        </script>
    </body>

    </html>
    ```

## 1.8 淘宝精品服饰案例
- 核心原理：鼠标经过左侧盒子某个小li，就让内容区盒子相对应图片显示，其余的图片隐藏。
- 需要得到当前小li 的索引号，就可以显示对应索引号的图片
- jQuery 得到当前元素索引号 `$(this).index()`
- 中间对应的图片，可以通过 `eq(index)` 方法去选择
- 显示元素 `show()`； 隐藏元素 `hide()`

- **案例如下：**
    ![20241018163024](https://raw.githubusercontent.com/fannkaii/MyPicBed/master/images/20241018163024.png)
    ```html
    <!DOCTYPE html>
    <html>

    <head lang="en">
        <meta charset="UTF-8">
        <title></title>
        <style type="text/css">
            * {
                margin: 0;
                padding: 0;
                font-size: 12px;
            }
            
            ul {
                list-style: none;
            }
            
            a {
                text-decoration: none;
            }
            
            .wrapper {
                width: 250px;
                height: 248px;
                margin: 100px auto 0;
                border: 1px solid pink;
                border-right: 0;
                overflow: hidden;
            }
            
            #left,
            #content {
                float: left;
            }
            
            #left li {
                background: url(images/lili.jpg) repeat-x;
            }
            
            #left li a {
                display: block;
                width: 48px;
                height: 27px;
                border-bottom: 1px solid pink;
                line-height: 27px;
                text-align: center;
                color: black;
            }
            
            #left li a:hover {
                background-image: url(images/abg.gif);
            }
            
            #content {
                border-left: 1px solid pink;
                border-right: 1px solid pink;
            }
        </style>
        <script src="jquery.min.js"></script>
        <script>
            $(function() {
                // 1. 鼠标经过左侧的小li 
                $("#left li").mouseover(function() {
                    // 2. 得到当前小li 的索引号
                    var index = $(this).index();
                    console.log(index);
                    // 3. 让我们右侧的盒子相应索引号的图片显示出来就好了
                    // $("#content div").eq(index).show();
                    // 4. 让其余的图片（就是其他的兄弟）隐藏起来
                    // $("#content div").eq(index).siblings().hide();
                    // 链式编程
                    $("#content div").eq(index).show().siblings().hide();

                })
            })
        </script>
    </head>

    <body>
        <div class="wrapper">
            <ul id="left">
                <li><a href="#">女靴</a></li>
                <li><a href="#">雪地靴</a></li>
                <li><a href="#">冬裙</a></li>
                <li><a href="#">呢大衣</a></li>
                <li><a href="#">毛衣</a></li>
                <li><a href="#">棉服</a></li>
                <li><a href="#">女裤</a></li>
                <li><a href="#">羽绒服</a></li>
                <li><a href="#">牛仔裤</a></li>
            </ul>
            <div id="content">
                <div>
                    <a href="#"><img src="images/女靴.jpg" width="200" height="250" /></a>
                </div>
                <div>
                    <a href="#"><img src="images/雪地靴.jpg" width="200" height="250" /></a>
                </div>
                <div>
                    <a href="#"><img src="images/冬裙.jpg" width="200" height="250" /></a>
                </div>
                <div>
                    <a href="#"><img src="images/呢大衣.jpg" width="200" height="250" /></a>
                </div>
                <div>
                    <a href="#"><img src="images/毛衣.jpg" width="200" height="250" /></a>
                </div>
                <div>
                    <a href="#"><img src="images/棉服.jpg" width="200" height="250" /></a>
                </div>
                <div>
                    <a href="#"><img src="images/女裤.jpg" width="200" height="250" /></a>
                </div>
                <div>
                    <a href="#"><img src="images/羽绒服.jpg" width="200" height="250" /></a>
                </div>
                <div>
                    <a href="#"><img src="images/牛仔裤.jpg" width="200" height="250" /></a>
                </div>
            </div>
        </div>
    </body>

    </html>
    ```

# 2. jQuery 样式操作
## 2.1 操作css方法
- jQuery 可以使用 css 方法来修改简单元素样式； 也可以操作类，修改多个样式。
- 参数只写属性名，则是返回属性值
    ```javascript
    $(this).css("color");
    ```
- 参数是**属性名，属性值，逗号分隔**，是设置一组样式，属性必须加引号，值如果是数字可以不用跟单位和引号
    ```javascript
    $(this).css(“color”,“red”);
    ```
- 参数可以是对象形式，方便设置多组样式。属性名和属性值用冒号隔开，属性可以不用加引号
    ```javascript
    $(this).css({ "color":"white","font-size":"20px"});
    ```
- **案例如下：**
    ```html
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>jQuery操作样式之css方法</title>
        <script src="jquery.min.js"></script>
        <style>
            div {
                width: 200px;
                height: 200px;
                background-color: pink;
            }
        </style>
    </head>

    <body>
        <div></div>
        <script>
            // 操作样式之css方法
            $(function() {
                console.log($("div").css("width"));
                // $("div").css("width", "300px");
                // $("div").css("width", 300);
                // $("div").css(height, "300px"); 属性名一定要加引号
                $("div").css({
                    width: 400,
                    height: 400,
                    backgroundColor: "red"
                        // 如果是复合属性则必须采取驼峰命名法，如果值不是数字，则需要加引号
                })
            })
        </script>
    </body>

    </html>
    ```

## 2.2 设置类样式方法
- 作用等同于以前的 classList，可以操作类样式， 注意操作类里面的参数不要加点。
- 添加类
    ```javascript
    $("div").addClass("current");
    ```
- 移除类
    ```javascript
    $("div").removeClass("current");
    ```
- 切换类
    ```javascript
    $("div").toggleClass("current");
    ```
- **案例如下：**
    ```html
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>jQuery操作样式之类操作</title>
        <style>
            div {
                width: 150px;
                height: 150px;
                background-color: pink;
                margin: 100px auto;
                transition: all 0.5s;
            }
            
            .current {
                background-color: red;
                transform: rotate(360deg);
            }
        </style>
        <script src="jquery.min.js"></script>
    </head>

    <body>
        <div class="current"></div>
        <script>
            $(function() {
                // 1. 添加类 addClass()
                // $("div").click(function() {
                //     // $(this).addClass("current");
                // });
                // 2. 删除类 removeClass()
                // $("div").click(function() {
                //     $(this).removeClass("current");
                // });
                // 3. 切换类 toggleClass()
                $("div").click(function() {
                    $(this).toggleClass("current");
                });
            })
        </script>
    </body>

    </html>
    ```

## 2.3 类操作与className区别
- 原生 JS 中 className 会覆盖元素原先里面的类名。
- jQuery 里面类操作只是对指定类进行操作，不影响原先的类名。
- **案例如下：**
    ```html
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>jQuery类操作不影响原先类</title>
        <style>
            .one {
                width: 200px;
                height: 200px;
                background-color: pink;
                transition: all .8s;
            }
            
            .two {
                transform: rotate(40deg);
            }
        </style>
        <script src="jquery.min.js"></script>
    </head>

    <body>
        <div class="one two"></div>
        <script>
            // var one = document.querySelector(".one");
            // one.className = "two";
            //$(".one").addClass("two"); //这个addClass相当于追加类名 不影响以前的类名
            $(".one").removeClass("two");
        </script>
    </body>

    </html>
    ```

## 2.4 tab栏切换案例
- 点击上部的li，当前li 添加current类，其余兄弟移除类。
- 点击的同时，得到当前li 的索引号
- 让下部里面相应索引号的item显示，其余的item隐藏

    ![20241021143731](https://raw.githubusercontent.com/fannkaii/MyPicBed/master/images/20241021143731.png)
    ```html
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>tab栏切换</title>
        <style>
            * {
                margin: 0;
                padding: 0;
            }
            
            li {
                list-style-type: none;
            }
            
            .tab {
                width: 978px;
                margin: 100px auto;
            }
            
            .tab_list {
                height: 39px;
                border: 1px solid #ccc;
                background-color: #f1f1f1;
            }
            
            .tab_list li {
                float: left;
                height: 39px;
                line-height: 39px;
                padding: 0 20px;
                text-align: center;
                cursor: pointer;
            }
            
            .tab_list .current {
                background-color: #c81623;
                color: #fff;
            }
            
            .item_info {
                padding: 20px 0 0 20px;
            }
            
            .item {
                display: none;
            }
        </style>
        <script src="jquery.min.js"></script>
    </head>

    <body>
        <div class="tab">
            <div class="tab_list">
                <ul>
                    <li class="current">商品介绍</li>
                    <li>规格与包装</li>
                    <li>售后保障</li>
                    <li>商品评价（50000）</li>
                    <li>手机社区</li>
                </ul>
            </div>
            <div class="tab_con">
                <div class="item" style="display: block;">
                    商品介绍模块内容
                </div>
                <div class="item">
                    规格与包装模块内容
                </div>
                <div class="item">
                    售后保障模块内容
                </div>
                <div class="item">
                    商品评价（50000）模块内容
                </div>
                <div class="item">
                    手机社区模块内容
                </div>

            </div>
        </div>
        <script>
            $(function() {
                // 1.点击上部的li，当前li 添加current类，其余兄弟移除类
                $(".tab_list li").click(function() {
                    // 链式编程操作
                    $(this).addClass("current").siblings().removeClass("current");
                    // 2.点击的同时，得到当前li 的索引号
                    var index = $(this).index();
                    console.log(index);
                    // 3.让下部里面相应索引号的item显示，其余的item隐藏
                    $(".tab_con .item").eq(index).show().siblings().hide();
                });
            })
        </script>
    </body>

    </html>
    ```
